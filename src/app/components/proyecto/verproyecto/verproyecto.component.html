<app-navbar></app-navbar>
<div class="row">
	<div class="col s12">
		<a class="waves-effect waves-teal btn-flat" [routerLink]="['/home']"><i class="material-icons" >arrow_back_ios_new</i>Regresar</a>
	</div>
</div>
<div class="row" *ngIf="proyectoBuscado != null">
	<h4>Información del proyecto</h4>
	<hr>
	{{proyectoBuscado | json}}
</div>

<div class="row">
	<div class="col s12">
		<hr>
		<h4>Tareas del proyecto<a class="btn-floating waves-effect waves-light red modal-trigger" data-target="modal1"><i class="material-icons">add</i></a></h4>
		<hr>


	</div>
</div>
	<div class="row">
    <div class="col s4" *ngFor="let tarea of tareasproyecto">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">{{tarea.nombre}} - {{tarea.alias}}</span>
          <span class="helper-text">{{tarea.fecha_creacion}}</span>
          <p>{{tarea.descripcion}}</p>
        </div>
        <div class="card-action">
          <a class="modal-trigger" style="cursor: pointer;"  ><i class="material-icons" >edit</i>Editar tarea</a>
          <a style="cursor: pointer;"><i class="material-icons">search</i>Eliminar tarea</a>
        </div>
      </div>
    </div>
</div>
		 <!-- Modal Structure -->
		  <div id="modal1" class="modal">
		    <div class="modal-content">
		    	<div class="row">
		    		<div class="col s12">
		    			<h4>Crear tarea para el proyecto {{proyectoBuscado.nombre}}</h4>
		    			<hr>
		    		</div>
		    	</div>
				<div class="row">
				    <form class="col s12">
				      <div class="row">
				        <div class="input-field col s6">
				          <input #nombre placeholder="Nombre tarea" id="nombretarea" type="text" class="validate">
				          <label for="nombreproyecto">Nombre tarea</label>
				        </div>
				        <div class="input-field col s6">
				          <input #alias placeholder="Alias" id="alias" type="text" class="validate">
				          <label for="alias">Alias</label>
				        </div>
				      </div>
					  <div class="row">
					    <form class="col s12">
					      <div class="row">
					        <div class="input-field col s12">
					          <textarea #descripcion id="textarea1" class="materialize-textarea"></textarea>
					          <label for="textarea1">Descripción</label>
					        </div>
					      </div>
					    </form>
					  </div>
				      <div class="row">
				        <div class="input-field col s6">
				          <input #fecha_inicio placeholder="Fecha inicio" id="fechainicio" type="date" class="validate">
				          <label for="fechainicio">Fecha inicio</label>
				        </div>
				      </div>					  
				      <div class="row">
				      	<h4>Usuario responsable</h4>
						  <div class="input-field col s12">
						    <select #responsable class="browser-default">
						      <option value="" disabled selected>Selecciona un responsable</option>
						      <option *ngFor="let usuario of usuarios" [value]="usuario.id">{{usuario.nombre}}</option>
						    </select>
						  </div>
				      </div>
				    </form>
				  </div>
		    </div>
		    <div class="modal-footer">
		    	<hr>
		      <a class="modal-close waves-effect waves-green btn" (click)="registrarTarea(nombre.value,alias.value,descripcion.value,fecha_inicio.value,responsable.value)">Crear proyecto</a>
		    </div>
		  </div>